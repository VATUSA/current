!function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}({0:function(t,e,a){t.exports=a("PMIv")},EOXH:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(t){return'<div role="tabpanel" class="tab-pane'+(!0===t.isActive?" active":"")+'" id="'+String(t.email.replace(/[@\-.]/g,""))+'">\n          <div class="form-group">\n            <label for="email_'+String(t.email.replace(/[@\.]/g,""))+'">Address</label>\n            <input type="email" readonly="true" class="form-control" id="email_'+String(t.email.replace(/[@\-.]/g,""))+'" value="'+String(t.email.toLowerCase())+'">\n          </div>\n          <div class="form-group">\n            <label for="dest_'+String(t.email.replace(/[@\-.]/g,""))+'">Forward To: (separate multiple emails with a ,)</label>\n            <input type="text" class="form-control" id="destination_'+String(t.email.replace(/[@\-.]/g,""))+'" value="'+String(t.destination)+'">\n          </div>\n          <div class="form-group">\n            <label for="static_'+String(t.email.replace(/[@\-.]/g,""))+'">Static <i class="fa fa-question-circle" data-toggle="tooltip" title="Static forwards are forwards that do not change during staff changes and can be used for facility-specific addresses, mailing lists, etc"></i></label>\n            <select class="form-control staticselect" data-id="'+String(t.email.replace(/[@\-.]/g,""))+'" id="static_'+String(t.email.replace(/[@\-.]/g,""))+'">\n              <option'+("STATIC"===t.type?' selected="true"':"")+">Yes</option>\n              <option"+("STATIC"!==t.type?' selected="true"':"")+'>No</option>\n            </select>\n          </div>\n          <button type="button" class="btn btn-primary btnSave" data-email="'+String(t.email)+'" data-type="'+String(t.type)+'">Save</button>\n     </div>'}}();e.default=a},Jy7d:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(t){return'<div role="tabpanel" class="tab-pane'+(!0===t.isActive?" active":"")+'" id="'+String(t.email.replace(/[@\-.]/g,""))+'">\n    <div class="form-group">\n      <label for="email_'+String(t.email.replace(/[@\.]/g,""))+'">Address</label>\n      <input type="email" readonly="true" class="form-control" id="email_'+String(t.email.replace(/[@\-.]/g,""))+'" value="'+String(t.email.toLowerCase())+'">\n    </div>\n    <div class="form-group">\n      <label for="pass_'+String(t.email.replace(/[@\\.]/g,""))+'">Password:</label>\n      <input type="password" class="form-control" id="password_'+String(t.email.replace(/[@\-.]/g,""))+'">\n    </div>\n    <div class="form-group">\n      <label for="pass2_'+String(t.email.replace(/[@\\\\.]/g,""))+'">Confirm Password:</label>\n      <input type="password" class="form-control" id="password2_'+String(t.email.replace(/[@\-.]/g,""))+'">\n    </div>\n    <button type="button" class="btn btn-primary btnSave" data-email="'+String(t.email)+'" data-type="'+String(t.type)+'">Save</button>\n  </div>'}}();e.default=a},PMIv:function(t,e,a){var i=function(t){return t&&t.__esModule?t:{default:t}}(a("yf3m"));$(document).ready(function(){waitingDialog.show(),$.ajax({url:"https://api.vatusa.net/v2/email",method:"get",dataType:"json",xhrFields:{withCredentials:!0}}).done(function(t){waitingDialog.hide(),$("#emailRoot").html((0,i.default)(t))})}).on("click",".btnSave",function(){var t=this;if("FULL"===$(this).data("type")){if($("#password_"+String($(this).data("email").replace(/[@\-.]/g,""))).val()!==$("#password2_"+String($(this).data("email").replace(/[@\-.]/g,""))).val())return bootbox.alert("Password and Confirm Password fields do not match."),$("#password_"+String($(this).data("email").replace(/[@\-.]/g,""))).focus(),!1;$.ajax({url:"https://api.vatusa.net/v2/email",method:"put",xhrFields:{withCredentials:!0},data:{email:$(this).data("email"),password:$("#password_"+String($(this).data("email").replace(/[@\-.]/g,""))).val()}}).done(function(){bootbox.alert("Password has been changed for "+String($(t).data("email"))+" successfully.")}).fail(function(e){bootbox.alert("There was an error changing your password for "+String($(t).data("email"))+".  Server response: "+String(e)+". Please forward this information to the DSM")})}else $.ajax({url:"https://api.vatusa.net/v2/email",method:"put",xhrFields:{withCredentials:!0},data:{email:$(this).data("email"),destination:$("#destination_"+String($(this).data("email").replace(/[@\-.]/g,""))).val(),static:"Yes"===$("#static_"+String($(this).data("email").replace(/[@\-.]/g,""))).val()}}).done(function(){bootbox.alert("Destination for "+String($(t).data("email"))+" has been set successfully.")}).fail(function(e){bootbox.alert("There was an error changing the destination for "+String($(t).data("email"))+".  Server response: "+String(e)+". Please forward this information to the DSM")})})},tBqB:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(t,e){return'<li role="presentation"'+(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?' class="active"':"")+'><a href="#'+String(e)+'" aria-controls="'+String(e)+'" role="tab" data-toggle="tab">'+String(t.toLowerCase())+"</a></li>"}}();e.default=a},yf3m:function(t,e,a){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(a("tBqB")),r=i(a("EOXH")),l=i(a("Jy7d")),o=function(){return function(t){var e=!0,a='<form><ul class="nav nav-tabs" role="tablist">';return t.map(function(t,i){a=""+a+String((0,n.default)(t.email,t.email.replace(/[@\-.]/g,""),e)),e=!1}),a+='</ul>\n  <div class="tab-content">\n  ',e=!0,t.map(function(t,i){t.isActive=e,"FULL"===t.type&&(a=""+a+String((0,l.default)(t))),"FORWARD"!==t.type&&"STATIC"!==t.type||(a=""+a+String((0,r.default)(t))),e=!1}),a+="</div></form>",$('[data-toggle="tooltip"]').tooltip(),a}}();e.default=o}});